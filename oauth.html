<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign Up with Google</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://cdn.jsdelivr.net/npm/jwt-decode/build/jwt-decode.min.js"></script>
</head>
<body>
    <h2>Sign Up with Google</h2>

    <!-- Container for Google Sign-In button -->
    <div id="buttonDiv"></div>

    <script>
        const urlParams = new URLSearchParams(window.location.search);
        const provider = urlParams.get('provider') || 'provider';
        
        // Callback to handle Google response
        function handleCredentialResponse(response) {
            // Decode JWT to view user info
            const data = jwt_decode(response.credential);
            console.log("User Info:", data);
        }

        // Initialize Google Sign-In on page load
        window.onload = function () {
            google.accounts.id.initialize({
                client_id: "696572883970-o16smmvn0c0mq9jl6kbeloosortdf6in.apps.googleusercontent.com", // replace with your client ID
                callback: handleCredentialResponse,
                auto_select: false
            });

            // Render the button
            google.accounts.id.renderButton(
                document.getElementById("buttonDiv"),
                { theme: "outline", size: "large", text: "signup_with" }
            );

            // Optional: prompt user automatically
            // google.accounts.id.prompt();
        };
    </script>
</body>
</html>
